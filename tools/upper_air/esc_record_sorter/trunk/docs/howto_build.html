<html>
<head>
   <title>How To: Build/Develop the ESC Record Sorter</title>
   <link rel="stylesheet" type="text/css" href="http://dmg.eol.ucar.edu/css/howto.css" />
</head>
<body>
<h1>How To: Build/Develop the ESC Record Sorter</h1>

<a name="top"></a>
<h2>Contents</h2>
<ol>
    <li><a href="#about">About</a></li>

    <li><a href="#build">Build</a></li>
    <li><a href="#develop">Development</a></li>
</ol>
<hr />

<a name="about"></a>
<h2>About</h2>

<p>This document contains information that may be useful for anyone going to work on the development of the record sorting software for ESC formatted soundings. This includes upgrading existing pieces or adding new sorting algorithms to the set.</p>
<p>The software described in this document is written in Java 1.5 with the use of generics.  Java 1.5 or newer is required for the software to run.</p>
<p><a href="#top">Top</a></p>
<hr />


<a name="build"></a>
<h2>Build</h2>
<p>The build is defined in the <i>build.xml</i> file and uses Ant.  If you have not configured Ant in your environment, you will need to follow the instructions <a href="http://www.eol.ucar.edu/about/our-organization/cds/dmg/dmg-internal/dmg-documentation/how-to/ant-setup-and-use/#environment">here</a> or you won't be able to build the QC with Ant.</p>

<h3>Directory Layout</h3>
<table class="directories">
   <tr>
      <th>build</th>
      <td>This directory may not exist initially is is removed when the <span class="softwareName">clean</span> command is run.  It contains the .class files generated after compiling the .java source.</td>
   </tr>

   <tr>
      <th>dist</th>
      <td>This directory is generated by the build when the jar file is being prepared for production.  This is used so the user can check the contents and layout before deploying it into production.  This directory is removed when the <span class="softwareName">clean</span> command is run.</td>
   </tr>
   <tr>
      <th>docs</th>

      <td>This directory contains all of the documentation for the record sorter.  It also contains an API directory which is automatically generated during the creation of the javadoc and is removed when the <span class="softwareName">clean</span> command is executed.</td>
   </tr>
   <tr>
      <th>src</th>
      <td>This directory contains all of the .java source files for the Auto QC.</td>
   </tr>
   <tr>
      <th>tests</th>
      <td>This directory contains the JUnit .java source files used for testing the record sorter.  This does not contain any production software.</td>
   </tr>
</table>

<h3>build.xml Targets</h3>
<table class="directories">
   <tr>
      <th>clean</th>
      <td>Remove all generated content from the working area.  This removes the build, dist, and docs/api directories.</td>
   </tr>

   <tr>
      <th>compile</th>
      <td>Compile the record sorter source code and prepare it for execution.  The .class files are put into the build direction.</td>
   </tr>
   <tr>
      <th>compileTests</th>
      <td>Compile the record sorter test source code and prepare it to be run.  This requires the source files to be compiled and will perform the operation if necessary.</td>
   </tr>
   <tr>
      <th>deploy</th>
      <td>Copy the jar file to the production area and replace all of the public javadoc with a newly generated copy.  This will perform all necessary operations to create the jar file and generate the javadocs that have not already been performed.</td>
   </tr>
   <tr>
      <th>dist</th>
      <td>Generate the jar file to be used in production.  This will compile the .java files if they have not already been created.  The jar file does not contain any test software.</td>
   </tr>
   <tr>
      <th>javadoc</th>
      <td>Create the javadoc files for the non-test files.  This also copies all how tos listed in the overview with the API.  The files are added to the docs/api directory so the directory contents can be copied to the public area on deployment.</td>
   </tr>
<!--
   <tr>
      <th>test</th>
      <td>Execute the JUnit tests for the record sorter.  All failures need to be addressed before the jar file is deployed.</td>
   </tr>
-->
</table>


<p><a href="#top">Top</a></p>
<hr />


<a name="develop"></a>

<h2>Development</h2>
<p>The record sorter is defined in the ESCRecordSorter class.  It is currently the only class defined for the sorter, but uses several sounding utilities defined in the <span class="softwareName">upper_air.jar</a> library for sorting the records.  The design of the application is to recognize new parameter flags passed on the command line to allow different data fields to be sorted.</p>
<p><a href="#top">Top</a></p>
<hr />

<p class="foot">Last Updated: February 15, 2008 - jclawson</p>

</body>
</html>
