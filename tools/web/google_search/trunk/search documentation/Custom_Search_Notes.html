

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html class="pageview">


<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<base target="_top">
<style type="text/css">
  

/* default css */

table {
  font-size: 1em;
  line-height: inherit;
  border-collapse: collapse;
}


tr {
  
  text-align: left;
  
}


div, address, ol, ul, li, option, select {
  margin-top: 0px;
  margin-bottom: 0px;
}

p {
  margin: 0px;
}


pre {
  font-family: Courier New;
  white-space: pre-wrap;
  margin:0;
}

body {
  margin: 6px;
  padding: 0px;
  font-family: Verdana, sans-serif;
  font-size: 10pt;
  background-color: #ffffff;
  color: #000;
}


img {
  -moz-force-broken-image-icon: 1;
}

@media screen {
  html.pageview {
    background-color: #f3f3f3 !important;
    overflow-x: hidden;
    overflow-y: scroll;
  }

  

  body {
    min-height: 1100px;
    
    counter-reset: __goog_page__;
  }
  
  * html body {
    height: 1100px;
  }
  /* Prevent repaint errors when scrolling in Safari. This "Star-7" css hack
     targets Safari 3.1, but not WebKit nightlies and presumably Safari 4.
     That's OK because this bug is fixed in WebKit nightlies/Safari 4 :-). */
  html*#wys_frame::before {
    content: '\A0';
    position: fixed;
    overflow: hidden;
    width: 0;
    height: 0;
    top: 0;
    left: 0;
  }
  
  .pageview body {
    border-top: 1px solid #ccc;
    border-left: 1px solid #ccc;
    border-right: 2px solid #bbb;
    border-bottom: 2px solid #bbb;
    width: 648px !important;
    margin: 15px auto 25px;
    padding: 40px 50px;
  }
  /* IE6 */
  * html {
    overflow-y: scroll;
  }
  * html.pageview body {
    overflow-x: auto;
  }
  

  
    
    .writely-callout-data {
      display: none;
    }
    

    .writely-footnote-marker {
      background-image: url('MISSING');
      background-color: transparent;
      background-repeat: no-repeat;
      width: 7px;
      overflow: hidden;
      height: 16px;
      vertical-align: top;

      
      -moz-user-select: none;
    }
    .editor .writely-footnote-marker {
      cursor: move;
    }
    .writely-footnote-marker-highlight {
      background-position: -15px 0;
      -moz-user-select: text;
    }
    .writely-footnote-hide-selection ::-moz-selection, .writely-footnote-hide-selection::-moz-selection {
      background: transparent;
    }
    .writely-footnote-hide-selection ::selection, .writely-footnote-hide-selection::selection {
      background: transparent;
    }
    .writely-footnote-hide-selection {
      cursor: move;
    }

    /* Comments */
    .writely-comment-yellow {
      background-color: #ffffd7;
    }
    .writely-comment-orange {
      background-color: #ffe3c0;
    }
    .writely-comment-pink {
      background-color: #ffd7ff;
    }
    .writely-comment-green {
      background-color: #d7ffd7;
    }
    .writely-comment-blue {
      background-color: #d7ffff;
    }
    .writely-comment-purple {
      background-color: #eed7ff;
    }

  


  
  .br_fix span+br:not(:-moz-last-node) {
    
    position:relative;
    
    left: -1ex
    
  }

  
  #cb-p-tgt {
    font-size: 8pt;
    padding: .4em;
    background-color: #ddd;
    color: #333;
  }
  #cb-p-tgt-can {
    text-decoration: underline;
    color: #36c;
    font-weight: bold;
    margin-left: 2em;
  }
  #cb-p-tgt .spin {
    width: 16px;
    height: 16px;
    background: url(//ssl.gstatic.com/docs/clipboard/spin_16o.gif) no-repeat;
  }
}

h6 { font-size: 8pt }
h5 { font-size: 8pt }
h4 { font-size: 10pt }
h3 { font-size: 12pt }
h2 { font-size: 14pt }
h1 { font-size: 18pt }

blockquote {padding: 10px; border: 1px #DDD dashed }

.webkit-indent-blockquote { border: none; }

a img {border: 0}

.pb {
  border-width: 0;
  page-break-after: always;
  /* We don't want this to be resizeable, so enforce a width and height
     using !important */
  height: 1px !important;
  width: 100% !important;
}

.editor .pb {
  border-top: 1px dashed #C0C0C0;
  border-bottom: 1px dashed #C0C0C0;
}

div.google_header, div.google_footer {
  position: relative;
  margin-top: 1em;
  margin-bottom: 1em;
}


/* Table of contents */
.editor div.writely-toc {
  background-color: #f3f3f3;
  border: 1px solid #ccc;
}
.writely-toc > ol {
  padding-left: 3em;
  font-weight: bold;
}
ol.writely-toc-subheading {
  padding-left: 1em;
  font-weight: normal;
}
/* IE6 only */
* html writely-toc ol {
  list-style-position: inside;
}
.writely-toc-none {
  list-style-type: none;
}
.writely-toc-decimal {
  list-style-type: decimal;
}
.writely-toc-upper-alpha {
  list-style-type: upper-alpha;
}
.writely-toc-lower-alpha {
  list-style-type: lower-alpha;
}
.writely-toc-upper-roman {
  list-style-type: upper-roman;
}
.writely-toc-lower-roman {
  list-style-type: lower-roman;
}
.writely-toc-disc {
  list-style-type: disc;
}

/* Ordered lists converted to numbered lists can preserve ordered types, and
   vice versa. This is confusing, so disallow it */
ul[type="i"], ul[type="I"], ul[type="1"], ul[type="a"], ul[type="A"] {
  list-style-type: disc;
}

ol[type="disc"], ol[type="circle"], ol[type="square"] {
  list-style-type: decimal;
}

/* end default css */


  /* default print css */
  @media print {
    body {
      padding: 0;
      margin: 0;
    }

    div.google_header, div.google_footer {
      display: block;
      min-height: 0;
      border: none;
    }

    div.google_header {
      flow: static(header);
    }

    /* used to insert page numbers */
    div.google_header::before, div.google_footer::before {
      position: absolute;
      top: 0;
    }

    div.google_footer {
      flow: static(footer);
    }

    /* always consider this element at the start of the doc */
    div#google_footer {
      flow: static(footer, start);
    }

    span.google_pagenumber {
      content: counter(page);
    }

    span.google_pagecount {
      content: counter(pages);
    }

    .endnotes {
      page: endnote;
    }

    /* MLA specifies that endnotes title should be 1" margin from the top of the page. */
    @page endnote {
      margin-top: 1in;
    }

    callout.google_footnote {
      
      display: prince-footnote;
      footnote-style-position: inside;
      /* These styles keep the footnote from taking on the style of the text
         surrounding the footnote marker. They can be overridden in the
         document CSS. */
      color: #000;
      font-family: Times New Roman;
      font-size: 12.0pt;
      font-weight: normal;
    }

    /* Table of contents */
    #WritelyTableOfContents a::after {
      content: leader('.') target-counter(attr(href), page);
    }

    #WritelyTableOfContents a {
      text-decoration: none;
      color: black;
    }

    /* Comments */
    .writely-comment-yellow {
      background-color: #ffffd7;
    }
    .writely-comment-orange {
      background-color: #ffe3c0;
    }
    .writely-comment-pink {
      background-color: #ffd7ff;
    }
    .writely-comment-green {
      background-color: #d7ffd7;
    }
    .writely-comment-blue {
      background-color: #d7ffff;
    }
    .writely-comment-purple {
      background-color: #eed7ff;
    }
  }

  @page {
    @top {
      content: flow(header);
    }
    @bottom {
      content: flow(footer);
    }
    @footnotes {
      border-top: solid black thin;
      padding-top: 8pt;
    }
  }
  /* end default print css */


/* custom css */


/* end custom css */

/* ui edited css */

body {
  font-family: Times New Roman;
  
  font-size: 12.0pt;
  line-height: normal;
  background-color: #ffffff;
}
/* end ui edited css */


/* editor CSS */
.editor a:visited {color: #551A8B}
.editor table.zeroBorder {border: 1px dotted gray}
.editor table.zeroBorder td {border: 1px dotted gray}
.editor table.zeroBorder th {border: 1px dotted gray}


.editor div.google_header, .editor div.google_footer {
  border: 2px #DDDDDD dashed;
  position: static;
  width: 100%;
  min-height: 2em;
}

.editor .misspell {background-color: yellow}

.editor .writely-comment {
  font-size: 9pt;
  line-height: 1.4;
  padding: 1px;
  border: 1px dashed #C0C0C0
}


/* end editor CSS */

</style>

  
  <title>Custom_Search_Notes</title>

</head>

<body 
    
    >
    
    
    
<hr size=2>
<p class=P12>
  Goal: Add a Google Custom Search to the ARCSS project page.
</p>
<hr size=2>
<p class=Standard>
  This tutorial chronicles the steps I took in creating a Custom Search feature for the ARCSS homepage. The search feature should consist of a small text field that can be attached to the Arcss page. The search will target only arcss datasets stored on Codiac. The Search results will then be displayed in a dhtml window widget on the Arcss page. The links should open inside the same dhtml window.
</p>
<p class=Standard>
  &nbsp;
</p>
<p class=Standard>
  Dhtml window widget is a javascript and css based web tool that can allow the opening of small windows inside of an html page that can be moved, resized, or minimized. More Information on the dhtml window widget specifically can be found here:
</p>
<p class=P14>
  &nbsp;
</p>
<p class=P14>
  http://www.dynamicdrive.com/dynamicindex8/dhtmlwindow/index.htm
</p>
<p class=Standard>
  &nbsp;
</p>
<p class=Standard>
  In order to use the dhtml window widget your html page needs to include the script:
</p>
<p class=P14>
  &nbsp;
</p>
<p class=P14>
  /net/www/docs/projects/arcss/js/dhtmlwindow.js
</p>
<p class=Standard>
  &nbsp;
</p>
<p class=Standard>
  and also include the css file:
</p>
<p class=P14>
  &nbsp;
</p>
<p class=P14>
  /net/www/docs/projects/arcss/css/dhtmlwindow.css
</p>
<p class=P3>
  &nbsp;
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P11>
  <span class=P11__Char>Step #1 Setting up a Google Custom Search Engine</span>
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P3>
  <span class=P3__Char>To create a Google Custom Search engine you must have a google account with which to associate the CSE. For the Arcss search we used the eol webmaster acount: webmaster@eol.ucar.edu. Once you have logged into the google account you can get to the CSE interface by going to 'My Account' and then selecting 'Custom Search' from the products/services list. If Custom Search is not already in your products you can add it by going to: http://www.google.com/coop/cse/ </span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>Once you've added Custom search you can create a new Custom Search Engine. Once you've created a search engine you can maintain all aspects of the CSE in the CSE control panel. The 4 most important tabs in the control panel are Basics, Sites, Look and Feel, and Code. </span>
</p>
<p class=P3>
  &nbsp;
</p>
<ul>
  <li>
    <span class=P3__Char>Basics: Name, Description, and keywords are all useful self-explanatory fields which can be found on this page. Under Preferences on this tab you can set the advertising status. Since Ncar/Ucar is a non-profit organization you can disable ads here. Additionally, you may indicate whether the CSE should search only the sites you specify, or the entire Internet with emphasis on the sites you specify. </span>
  </li>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <li>
    <span class=P3__Char>Sites: This is where you define what content the CSE searches. You can add sites that will be included in the search, and also excluded sites which you specifically do not want searched. There are 3 different ways to define a page or group of pages to search in. It should be remembered that any pages that are dynamically generated cannot be indexed by google with any consistency. For example, readme docs in Codiac are displayed dynamically per request. As a result these pages cannot be indexed.</span>
  </li>
</ul>
<br>
<ul>
  <ul>
    <li>
      1. Include all pages which include this URL.
    </li>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>URL: eol.ucar.edu</span>
      </li>
    </ul>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>includes: *eol.ucar.edu*</span>
      </li>
    </ul>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>examples: http://www.eol.ucar.edu/projects/arcss/index.html</span><span class=T1__Char><span class=T1__Char>, </span></span>http://data.eol.ucar.edu/codiac/
      </li>
    </ul>
  </ul>
</ul>
<p class=P3>
  <br>
</p>
<ul>
  <ul>
    <li>
      <span class=P3__Char>2. URL patterns.</span>
    </li>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>URL pattern: http://www.eol.ucar.edu/projects/*/doc* </span>
      </li>
    </ul>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>examples: http://www.eol.ucar.edu/projects/arcss/docs/Data_Policy.html</span><span class=P3__Char>, http://www.eol.ucar.edu/rpojects/pase/documents/114.Safety.AppendixA.doc </span>
      </li>
    </ul>
  </ul>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <ul>
    <li>
      <span class=P3__Char>3. Dynamically Extract pages from links.</span>
    </li>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>A. Include all pages that are linked from this URL.</span>
      </li>
    </ul>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>B. Include all partial sites that are linked from this URL.</span>
      </li>
    </ul>
  </ul>
</ul>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>C. Include all sites that are linked from this URL.</span>
      </li>
    </ul>
  </ul>
</ul>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>**Note**</span>
</p>
<p class=P3>
  <span class=P3__Char>The Look and Feel as well as Code tabs are useful for implementing a simple search that displays results in one of three relatively limited manners. For the goal description given above it is necessary to use the Google Ajax API which will be discussed later, and does not utilize either the Code or L&amp;F settings. That being said if you just want your search results to be displayed on a simple html page, the L&amp;F and Code tabs should handle this. </span>
</p>
<p class=P3>
  <span class=P3__Char>**End Note**</span>
</p>
<p class=P3>
  &nbsp;
</p>
<ul>
  <li>
    <span class=P3__Char>Look and Feel: L&amp;F setting changes directly influence the code generated in the Code tab. Settings under this tab effect the display of the search field, button, and results. </span>
  </li>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <li>
    <span class=P3__Char>Code: This tab will auto generate code that can be copied and pasted into an html document to include a basic custom search. There are Three basic methods for doing this.</span>
  </li>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <ul>
    <li>
      <span class=P3__Char>1. Host the results on a Google page.</span><span class=P3__Char> - This code will add the search field and submit button into your html, on click, the button will redirect the user to a Google page which contains search results from the sites specified in the Sites tab.</span>
    </li>
  </ul>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <ul>
    <li>
      <span class=P3__Char>2. Host results in an iframe.</span><span class=P3__Char> - This code requires two pages. The first page will contain the code for the search field. On click the page will redirect to the second page with html arguments attached to the url. Something like:</span> http://www.eol.ucar.edu/projects/arcss/docs/googleresults.jsp?cx=005203271943822719354%3Avjvukaqsjk4&amp;cof=FORID%3A9&amp;ie=UTF-8&amp;q=niskin&amp;sa=Search
    </li>
  </ul>
</ul>
<p class=P3>
  &nbsp;
</p>
<ul>
  <ul>
    <ul>
      <li>
        <span class=P3__Char>The portion of the URL beginning with '?' Contains parameters that the second page uses to formulate search results. If you look at the code added to the first page in this process you will see the variables there. </span>
      </li>
    </ul>
  </ul>
</ul>
<p class=P3>
  <br>
</p>
<p class=P3>
  <span class=P3__Char>**Note**</span>
</p>
<p class=P3>
  <span class=P3__Char>There is an error when using the code auto-generated by google for this process. The code given for the second page given by google needs to include surrounding html and body tags or results in a blank screen in some browsers.</span>
</p>
<p class=P3>
  <span class=P3__Char>**End Note**</span>
</p>
<p class=P3>
  &nbsp;
</p>
<ul>
  <ul>
    <li>
      <span class=P3__Char>3. Host results in an overlay.</span><span class=P3__Char> - This option allows for a simple and clean one page results display. Onclick the screen grays and an overlay with results appears. The drawback to this choice is that the overlay is considerably slower to load than a standard html page.</span>
    </li>
  </ul>
</ul>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P11>
  <span class=P11__Char>Step #2 Using Ajax API for more functionality</span>
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<br>
<hr size=2>
<p class=P3>
  <span class=P3__Char>Important Links when using the API.</span>
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>First off, make sure you have Firebug installed for Firefox, or some similar web editing tool. </span>
</p>
<p class=P14>
  &nbsp;
</p>
<p class=P14>
  http://getfirebug.com/
</p>
<p class=P15>
  &nbsp;
</p>
<p class=P15>
  Google API has a Class Refernce page that allows you to browse through all the available classes one can use to manipulate the API.
</p>
<p class=P14>
  &nbsp;
</p>
<p class=P14>
  http://code.google.com/apis/ajaxsearch/documentation/reference.html
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>The google discussion group for the Google AJAX API is the most valuable tool available. You can post to this page and all posts get mailed out to the users of the group. This allows for a forum like question and answer interaction, with the ease of your personal inbox. Reading through these forums can answer a lot of questions. </span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>http://groups.google.com/group/Google-AJAX-Search-API/topics?start&amp;pli=1</span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>If you think you have discovered a problem with the API you will want to first visit the issue tracker to see if the problem has been documented. Most problems with the API have been documented at this point, but it can be useful to post additional feedback, as well as confirm a suspicion with the issue tracker.</span>
</p>
<p class=P2>
  &nbsp;
</p>
<p class=P2>
  <span class=P2__Char>&nbsp;</span><span class=T3__Char>http://code.google.com/p/google-ajax-apis/issues/list</span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P3>
  <span class=P3__Char>Using the API</span>
</p>
<p class=P3>
</p>
<hr size=2>
<p class=P3>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>In order to use the Google Ajax API you do not need a key. However, if you do use a key, and Google detects a problem with your search application you will receive an email alerting you to the problem. The key generated for the Arcss search is:</span>
</p>
<p class=P5>
  &nbsp;
</p>
<p class=P5>
  <a id=newKey name=newKey></a><font size=2><span class=P5__Char>ABQIAAAA3tbucVxlGNFBYLARMRuqahTL2tmjYYlVN2mt_K7dcvt5qRSuIhQA2YAv3guoDXdWwxvpZ5k2fFwMhQ</span></font>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>To create an html file that can use the Ajax API to generate a custom search you must include the&nbsp; API script: </span>
</p>
<p class=P8>
  <span class=P8__Char>http://www.google.com/jsapi<br>
  </span>
</p>
<p class=P8>
  <br>
</p>
<p class=P8>
  <span class=P8__Char>In order to register your search key with your application you must pass the key as a parameter to the script include. Like so:</span>
</p>
<p class=P8>
  <br>
</p>
<p class=P8>
  <span class=P8__Char><font size=2>&lt;script src="http://www.google.com/jsapi?key=</font></span>
</p>
<p class=P8>
  <span class=P8__Char><font size=2>ABQIAAAA3tbucVxlGNFBYLARMRuqahTL2tmjYYlVN2mt_K7dcvt5qRSuIhQA2YAv3guoDXdWwxvpZ5k2fFwMhQ"&gt;&lt;/script&gt;</font><br>
  </span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>Additionally, to implement the dhtml window functionality discussed above, you must also include the necessary css and js files mentioned there. Included with this document is a template file that accurately shows how all three resource files can be included. </span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>dhtml_and_ajax_api_template.html</span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>Once you have the necessary resources you can begin creating a search tool inside the OnLoad() function. The 2 most vital components are: the SearchControl, and the Searcher. A SearchControl must be created, the Searcher must then be added to the SearchControl object, and finally the SearchControl object must be instructed to draw itself. The location where you draw the search control is where the search field appears on the page. When adding the Searcher to the SearchControl you can include an options parameter that instructs (among other things) where the Results (Searcher) should be drawn. An example html file is included with this document that executes the described process. </span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>basic_search_template.html</span>
</p>
<p class=P3>
  <br>
</p>
<hr size=2>
<p class=P3>
  DHTML Windows
</p>
<hr size=2>
<p class=P3>
  <br>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>Now that you can create a basic custom search page using the Google API, the next step in the task is displaying the results in a dhtml window. To open a dhtmlwindow you must set a variable to the value returned by a function called dhtmlwindow.open(). Complete details about the parameters and acceptable values for them can be found at:</span>
</p>
<p class=P2>
  &nbsp;
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <a href=http://www.dynamicdrive.com/dynamicindex8/dhtmlwindow/index.htm style=TEXT-DECORATION:none></a><span class=P8__Char>http://www.dynamicdrive.com/dynamicindex8/dhtmlwindow/index.htm </span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>An Example call of the function looks like:</span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>box = dhtmlwindow.open('docwin', 'div', name, 'Search Results', 'width=950px,height=550px,left=165px,top=90px,resize=1,scrolling=1');&nbsp;</span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>In this example box is just an empty variable in js, the parameters are described briefly below.</span>
</p>
<p class=P3>
  &nbsp;
</p>
<ul>
  <li>
    <span class=P3__Char>'docwin' – This value becomes a unique ID for the div container created to hold the window.</span>
  </li>
  <li>
    <span class=P3__Char>'div' – This parameter specifies the type of content to be displayed in the dhtml window. There are several options for this value, but for the purposes of setting up a Google custom search the only relevant value is div.</span>
  </li>
  <li>
    <span class=P3__Char>name – In this example, the variable name contains the string that is the name of a div container. This div container holds the results of the search, this is the div that will be displayed in the dhtml window.</span>
  </li>
  <li>
    <span class=P3__Char>'Search Results' – This parameter becomes the title of the dhtml window that is displayed at the top of that window.</span>
  </li>
  <li>
    <span class=P3__Char>The remaining parameters are pretty self explanatory; left and top set the starting position of the window. Resize and scrolling both enable and disable those features. </span>
  </li>
</ul>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>A limitation of the current version of the dhtml window used in conjunction with the Google API is that once a div container is loaded into the dhtml window it's contents can no longer be modified by the API. As a result you must keep the results in one div container, copying them to a new container before&nbsp; loading the contents into the dhtml window. An example including detailed comments can be found in the search documentation folder included with this file. </span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>dhtml_search_template.html</span>
</p>
<p class=P2>
  &nbsp;
</p>
<p class=P10>
  &nbsp;
</p>
<p class=P10>
  <span class=P10__Char>Opening Links in dhtml windows</span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>Now that the search results display in a dhtml window you might want the user to be able to click the links in those results without navigating away from the page. A good solution to this is to open the clicked links in a new dhtml window. This way, the user can see the search results while browsing those results. In order to do this, before adding your search results to a dhtml window you must chop up the results and insert code to open dhtml links when the links are clicked. A function that does this can be found in the file:</span>
</p>
<p class=P8>
  &nbsp;
</p>
<p class=P8>
  <span class=P8__Char>open_links_in_dhtml.txt</span>
</p>
<p class=P10>
  &nbsp;
</p>
<p class=P10>
  <span class=P10__Char>Total results limitations</span>
</p>
<p class=P4>
  &nbsp;
</p>
<p class=P4>
  <span class=T4__Char><span class=T4__Char>Presently the google api has a hard time giving you an accurate estimation of the total number of results generated for your search. In the API the search class contains a cursor class which has a function that should theoretically return the total number of results genereated by your search. This class is located in </span></span><a id=_property_GSearch name=_property_GSearch></a>google.search.Search<span class=T4__Char><span class=T4__Char>.cursor.estimateResultCount() This functionality is fairly broken presently, the number estimated by estimateResultCount is wildly variable and rarely accurate. As a result it's hard to give a good total for the users. The 'solution' I eventually went with was to give the user a count of all the results on the present page, plus those found on previous pages. This means you can easily navigate to the last page with a single click, and see the total results. This is an unfortunate limitation of the API that will hopefully be fixed soon.<br>
  </span></span>
</p>
<p class=P13>
  &nbsp;
</p>
<p class=P13>
  <span class=T2__Char><span class=T2__Char>Additional Features</span></span>
</p>
<p class=P16>
  &nbsp;
</p>
<p class=P16>
  <span class=T2__Char><span class=T2__Char>From here you should be able to begin working with dhtml windows and the Google API to build a search tool as you see fit. To see the end result of this project visit:</span></span>
</p>
<p class=P17>
  &nbsp;
</p>
<p class=P17>
  <span class=T1__Char><span class=T1__Char>http://www.eol.ucar.edu/projects/arcss/index.html</span></span>
</p>
<p class=P3>
  &nbsp;
</p>
<p class=P3>
  <span class=P3__Char>All files used to create this tool are also contained with this document for reference. </span>
</p>
<br></body>
</html>