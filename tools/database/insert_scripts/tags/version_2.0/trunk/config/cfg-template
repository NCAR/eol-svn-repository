
###############################################################################
# cfg-template
#
# This is a template for a configuration file to use with the MySqlInserter.pm
# Perl module.  It contains sets of key/value pairs that are used by the 
# inserter to determine which files to be inserted into the database.
#
# The full documetation is at http://dmg.eol.ucar.edu/tutorials/archival/codiac/howto_insert_script.pl 
#
# This is just intended to be a quick reference on required fields and
# formats.
#
# Key/Value Pairs
#     directory - REQUIRED - Directory where the files can be found can
#                            use date/time meta-characters
#     enddate - REQUIRED when date/time is not fully defined in the directory
#               and filename and the filelength key is not used; must be in
#               YYYY-MM-yy HH:mm:SS format
#     filelength - REQUIRED when the end date is not defined in the directory
#                  and filename and the end date key is not used; format is a value
#                  followed by a case-insensitive frequency of year, month, day,
#                  hour, or minute (any of them can be plural)
#     filename - REQUIRED - Pattern used to find files, can use date/time
#                           meta-character
#     format - REQURED - the CODIAC id of the format of the file types
#     host - OPTIONAL - Default = localhost; set to mss or mass_store to
#                       search the mass store instead of the local system
#     insertrange - OPTIONAL - use when only a subset of the files are to be
#                   inserted; format must be YYYY-MM-yy:YYYY-MM-yy
#     purpose - OPTIONAL - Default = data; set to doc or eula for inserting
#                          non-data files
#     recursedirectories - OPTIONAL - Default = true; set to false to prevent
#                          searching directories below the base directory;
#                          will also recognize integral boolean values
#     startdate - REQUIRED when date/time is not fully defined in the directory
#                 and filename keys; must be in YYYY-MM-yy HH:mm:SS format
#
# Date/Time Meta-Characters
#   Grouping
#      () - Included meta-characters are both begin and end dates.
#      [] - Included meta-characters are only begin date.
#      {} - Included meta-characters are only end date.
#      NOTE: Date/Time groupings MUST ONLY CONTAIN date/time meta-characters
#
#   Date/Time
#      \Y - Match 1 digit of a year
#      \M - Match 1 digit of a month
#      \y - Match 1 digit of a day
#      \H - Match 1 digit of an hour
#      \m - Match 1 digit of a minute
#      \J - Match 1 digit of a julian day
#      \V - Match 3 or 4 characters that make up a month abbreviation
###############################################################################

# Example of begin date == end date but different times
{
  directory: /export/archive/data/bamex/aircraft/lear/flight_line_data
  filename: (\Y\Y\Y\Y\M\M\y\y).s[\H\H]\d\d\d\d.e{\H\H}\d\d\d\d.asc
  startdate: YYYY-MM-yy HH:00:00
  enddate: YYYY-MM-yy HH:23:59
  format: 43
}

# Example of century and different begin and end date/times
{
  directory: /export/archive/data/name/verify/GFS
  filename: zones1-9.gfs.b[\Y\Y\M\M\y\y].e{\Y\Y\M\M\y\y}
  startdate: 20YY-MM-yy 00:00:00
  enddate: 20YY-MM-yy 23:59:59
  format: 75
}

# Example of century and julian dates
{
  directory: /export/archive/data/bamex/mesonet/state/texas/npet
  filename: .+[\Y\Y\J\J\J].prt
  startdate: 20YY-MM-yy 00:00:00
  filelength: 1 day
  format: 43
}

# Example of month abbreviations
{
  directory: /export/archive/data/name/surface/ISS
  filename: [\V]\.sfc_met\.iss\d\.netcdf\.tar
  startdate: 2004-MM-01 00:00:00
  filelength: 1 month
  format: 53
}

# Example of manually setting date/times
{
  directory: /export/archive/data/bamex/mesonet/state/texas/lcra
  filename: \d{4}.txt
  startdate: 2003-05-20 00:00:00
  enddate: 2003-07-07 23:59:59
  format: 43
}

# Example of providing a data range.
{
  directory: /export/archive/data/name/upper_air/soundings/NWS
  filename: NAME_NWS_HighRes_[\Y\Y\Y\Y\M\M\y\y].ebufr
  startdate: YYYY-MM-yy 00:00:00
  filelength: 1 day
  format: 10
  insertrange: 2004-06-20:2004-07-18
}

# Example to use the directory with date meta-characters
{
  directory: /export/web/catalog/html/trex/ops/skewt/[\Y\Y\Y\Y\M\M\y\y]
  filename: ops\.SkewT\.\d\d\d\d\d\d\d\d[\H\H\m\m].+\.gif
  filelength: 12 hours
  format: 34
}

# Example to use the mass store
{
  directory: /ATD/DATA/2006/TREX/GV_N6777F/CAMERA
  filename: .+LEFT\.[\Y\Y\Y\Y\M\M\y\y].*\.mp4
  startdate: YYYY-MM-yy 00:00:00
  filelength: 1 day
  format: 109
  host: mass_store
}

# Example of preventing recursion
{
  directory: /export/archive/data/rainex/aircraft/HRD/Radar
  filename: .*\.f
  startdate: 2005-07-01 00:00:00
  enddate: 2005-10-31 23:59:59
  format: 43
  recursedirectories: false
}

# Example for inserting a doc
{
  directory: /export/archive/data/trex/upper_air/soundings/NWS
  filename: .*\.txt
  startdate: 2006-03-01 00:00:00
  filelength: 2 months
  purpose: doc
  format: 43
}
