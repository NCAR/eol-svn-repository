###
# DO NOT EDIT this file in the installed location like /net/work/cfg-files
#
# This file is controlled in the subversion repository
# http://svn.eol.ucar.edu/svn/dmg/tools/database/insert_scripts
#
###############################################################################
# cfg-template
#
# This is a template for a configuration file to use with the MySqlInserter.pm
# Perl module.  It contains sets of key/value pairs that are used by the 
# inserter to determine which files to be inserted into the database.
#
# This is just intended to be a quick reference with some examples.
# The full documetation is at:
#   http://dmg.eol.ucar.edu/software/tools/database/insert_scripts/howto_insert_scripts.html
#
# Lines like this, beginning with a pound or hash sign (#)
# are comments and are ignored.
#
# Blank lines and leading and trailing whitespace are ignored/stripped.
#
# Insert configuration consists of a sequence of descriptor blocks,
# designated by braces { }, generally one per directory tree.
# Inside the braces are the following configuration items.
#
# Key/Value Pairs for file descriptor blocks:
#     directory - REQUIRED - Directory where the files can be found,
#                            can use date/time meta-characters
#     enddate - REQUIRED when date/time is not fully defined in the directory
#               and filename and the filelength key is not used; must be in
#               YYYY-MM-yy HH:mm:SS format
#     filelength - REQUIRED when the end date is not defined in the directory
#                  and filename and the end date key is not used; format is an integer
#                  followed by a case-insensitive frequency of year, month, day,
#                  hour, or minute (any of them can be plural)
#     filename - REQUIRED - Pattern used to find files, can use date/time
#                           meta-character
#     format - REQURED - the CODIAC id of the format of the file types
#     host - OPTIONAL - Default = localhost; set to hpss to
#                       search the HPSS instead of the local system
#     insertrange - OPTIONAL - use when only a subset of the files are to be
#                   inserted; format must be YYYY-MM-yy:YYYY-MM-yy
#     purpose - OPTIONAL - Default = data; other valids: doc eula preview
#     recursedirectories - OPTIONAL - Default = true; set to false to prevent
#                          searching directories below the base directory;
#                          will also recognize integral boolean values
#     startdate - REQUIRED when date/time is not fully defined in the directory
#                 and filename keys; must be in YYYY-MM-yy HH:mm:SS format
#     event - OPTIONAL - Default = null; set to an event label string
#                   to be applied to all files in this block;
#                   see also Event Meta-Characters below
#     dataset_id - OPTIONAL - Default = determine from config file name;
#         set to the archive_ident (NOT the dataset_id or dataset.id) of the
#         dataset being loaded
#     dataset_version - OPTIONAL - Default = *
#         set this to the version_number of the dataset_version to which to add files;
#         (the dataset version itself must already exist)
#         Example:
#           dataset_version: 1.0
#         special values:
#           dataset_version: NONE
#               - do not add a version to this block of files
#           dataset_version: *
#               - use the existing version for the dataset, whatever it is;
#                 will fail if dataset has multiple versions;
#                 OK if dataset has no versions
#               - this is the default if config key does not appear
#
#     version - NOT RECOMENDED - this is probably NOT what you want to use.
#             version is an integer related to an individual file.
#             You probably want dataset_version.
#
# Date/Time Meta-Characters
#   Grouping
#      () - Included meta-characters are both begin and end dates.
#      [] - Included meta-characters are only begin date.
#      {} - Included meta-characters are only end date.
#      NOTE: Date/Time groupings MUST ONLY CONTAIN date/time meta-characters
#
#   Date/Time
#      \Y - Match 1 digit of a year
#      \M - Match 1 digit of a month
#      \y - Match 1 digit of a day
#      \H - Match 1 digit of an hour
#      \m - Match 1 digit of a minute
#      \J - Match 1 digit of a julian day
#      \V - Match 3 or 4 characters that make up a month abbreviation
#
# Event Meta-Characters
#      \E - Match 1 non-whitespace character for the event string
#      \E* - Match 0 or more non-whitespace characters
#      \E+ - Match 1 or more non-whitespace characters
#      \E{num} - Match num non-whitespace characters (replace num with an actual number)
#
#
# Outside of any block, you can add a debug level:
#   debug: 9
# 0 is off, 1 is a little bit, 9 is alot
# (there may or may not be other levels)
#
###############################################################################

# Example of setting debug level (remove the leading #)
#debug: 9

# Example of begin date == end date but different times
{
  directory: /net/archive/data/bamex/aircraft/lear/flight_line_data
  filename: (\Y\Y\Y\Y\M\M\y\y).s[\H\H]\d\d\d\d.e{\H\H}\d\d\d\d.asc
  startdate: YYYY-MM-yy HH:00:00
  enddate: YYYY-MM-yy HH:23:59
  format: 43
}

# Example of century and different begin and end date/times
{
  directory: /net/archive/data/name/verify/GFS
  filename: zones1-9.gfs.b[\Y\Y\M\M\y\y].e{\Y\Y\M\M\y\y}
  startdate: 20YY-MM-yy 00:00:00
  enddate: 20YY-MM-yy 23:59:59
  format: 75
}

# Example of century and julian dates
{
  directory: /net/archive/data/bamex/mesonet/state/texas/npet
  filename: .+[\Y\Y\J\J\J].prt
  startdate: 20YY-MM-yy 00:00:00
  filelength: 1 day
  format: 43
}

# Example of month abbreviations
{
  directory: /net/archive/data/name/surface/ISS
  filename: [\V]\.sfc_met\.iss\d\.netcdf\.tar
  startdate: 2004-MM-01 00:00:00
  filelength: 1 month
  format: 53
}

# Example of manually setting date/times
{
  directory: /net/archive/data/bamex/mesonet/state/texas/lcra
  filename: \d{4}.txt
  startdate: 2003-05-20 00:00:00
  enddate: 2003-07-07 23:59:59
  format: 43
}

# Example of providing a data range.
{
  directory: /net/archive/data/name/upper_air/soundings/NWS
  filename: NAME_NWS_HighRes_[\Y\Y\Y\Y\M\M\y\y].ebufr
  startdate: YYYY-MM-yy 00:00:00
  filelength: 1 day
  format: 10
  insertrange: 2004-06-20:2004-07-18
}

# Example to use the directory with date meta-characters
{
  directory: /net/web/catalog/html/trex/ops/skewt/[\Y\Y\Y\Y\M\M\y\y]
  filename: ops\.SkewT\.\d\d\d\d\d\d\d\d[\H\H\m\m].+\.gif
  filelength: 12 hours
  format: 34
}

# Example to use HPSS
{
  directory: /FS/EOL/2006/trex/aircraft/gv_n677f/camera
  filename: .+LEFT\.[\Y\Y\Y\Y\M\M\y\y].*\.mp4
  startdate: YYYY-MM-yy 00:00:00
  filelength: 1 day
  format: 109
  host: hpss
}

# Example of preventing recursion
{
  directory: /net/archive/data/rainex/aircraft/HRD/Radar
  filename: .*\.f
  startdate: 2005-07-01 00:00:00
  enddate: 2005-10-31 23:59:59
  format: 43
  recursedirectories: false
}

# Example for inserting a doc
{
  directory: /net/archive/data/trex/upper_air/soundings/NWS
  filename: .*\.txt
  startdate: 2006-03-01 00:00:00
  filelength: 2 months
  purpose: doc
  format: 43
}
